import{o as r,c as l,a as e,b as E,r as I,n as T,F as $,d as L,e as f,f as C,l as A,g as b,w as P,v as B,h as H,i as v,j as y,t as d,k as c,m as _,p as z,q as S,u as N,s as j,x as O,y as V,z as U,A as k,B as R}from"./vendor.04a267f3.js";const q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}};q();var p=(o,t)=>{for(const[i,u]of t)o[i]=u;return o};const D={props:["kind"],computed:{kindClass(){return"alert-"+this.kind}}},G=L('<svg xmlns="http://www.w3.org/2000/svg" style="display:none;"><symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path></symbol><symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"></path></symbol><symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path></symbol></svg>',1),J={class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img"},K={key:0,"xlink:href":"#check-circle-fill"},W={key:1,"xlink:href":"#exclamation-triangle-fill"};function Y(o,t,i,u,s,n){return r(),l($,null,[G,e("div",{class:T(["alert d-flex align-items-center mt-4",n.kindClass]),role:"alert"},[(r(),l("svg",J,[i.kind=="success"?(r(),l("use",K)):i.kind=="warning"||i.kind=="danger"?(r(),l("use",W)):E("",!0)])),e("div",null,[I(o.$slots,"default")])],2)],64)}var Q=p(D,[["render",Y]]);f.extend(C);f.extend(A);const X={components:{Alert:Q},data(){return{state:"idle",message:null,address:"",addressSent:"",amountSent:0n,tx:null,liftAtUnixtime:0}},computed:{isLoading(){return this.state=="loading"},isValid(){return this.address.startsWith("0x")&&this.address.length==42&&this.address.substr(2).match(/^[0-9A-Fa-f]+$/)},liftInHr(){return f().to(f.unix(this.liftAtUnixtime))},liftAtHr(){return f.unix(this.liftAtUnixtime).format("LLL")},txHr(){const o=(this.tx||"").trim();return o.substr(0,6)+".."+o.substr(o.length-6)}},mounted(){this.$refs.input.focus()},methods:{reset(){this.state="idle",this.tx=null,this.message=""},async giveMe(){this.state="loading",this.tx=null,this.message="";const o={method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({address:this.address})};let t=null;try{t=await(await window.fetch(this.$root.urlPrefix+"/api/gimme/",o)).json()}catch(i){}if(!t){this.state="fail",this.message="Failure :-(";return}if(!t.success){t.isLimited?(this.state="limited",this.liftAtUnixtime=t.liftAtUnixtime):t.isEmpty?this.state="empty":(this.state="fail",this.message=t.message||"Oops");return}this.state="success",this.tx=t.tx,this.addressSent=t.address,this.amountSent=BigInt(t.amount),this.address=""}}},Z={style:{"{ opacity":"isLoading ? 0.5 : 1 }"},class:"form-faucet"},ee=["disabled"],te={class:"form-floating"},se=["disabled"],ne=e("label",{for:"address"},"Your Ropsten address",-1),oe=["disabled"],re=c(" Sent "),ae=["href"],ie=c(". "),le=c(" Address limited. Please retry in "),ce=c(" at "),de=c(" Faucet is empty. Please notify me on "),ue=e("a",{href:"https://twitter.com/egorfine"},"Twitter",-1),me=c(" so that I mine some more rETH. "),he={key:4,class:"text-muted mt-1 small"};function fe(o,t,i,u,s,n){const a=b("alert");return r(),l("div",Z,[e("form",{onSubmit:t[2]||(t[2]=H((...m)=>n.giveMe&&n.giveMe(...m),["prevent"])),disabled:n.isLoading},[e("div",te,[P(e("input",{ref:"input",type:"text","onUpdate:modelValue":t[0]||(t[0]=m=>s.address=m),onInput:t[1]||(t[1]=(...m)=>n.reset&&n.reset(...m)),disabled:n.isLoading,class:"form-control mb-2",id:"address",placeholder:"0x....."},null,40,se),[[B,s.address]]),ne]),e("button",{class:"w-100 btn btn-lg btn-primary",type:"submit",disabled:n.isLoading||!n.isValid},"Give me Ropsten eth!",8,oe)],40,ee),s.state=="success"?(r(),v(a,{key:0,kind:"success"},{default:y(()=>[e("small",null,[re,e("b",null,d(o.$format18(s.amountSent)),1),c(" to "+d(s.addressSent)+" with tx hash ",1),e("a",{href:"https://ropsten.etherscan.io/tx/"+s.tx},d(n.txHr),9,ae),ie])]),_:1})):s.state=="limited"?(r(),v(a,{key:1,kind:"warning"},{default:y(()=>[le,e("b",null,d(n.liftInHr),1),ce,e("b",null,d(n.liftAtHr)+".",1)]),_:1})):s.state=="empty"?(r(),v(a,{key:2,kind:"danger"},{default:y(()=>[de,ue,me]),_:1})):s.state=="fail"?(r(),v(a,{key:3,kind:"danger"},{default:y(()=>[c(d(s.message),1)]),_:1})):(r(),l("div",he," Please enter valid Ethereum address to get free Ropsten testnet ETH. "))])}var _e=p(X,[["render",fe]]);const g=o=>(j("data-v-5161b06e"),o=o(),O(),o),pe={key:0},ge={key:1},be=c(" available now at faucet"),ve=g(()=>e("br",null,null,-1)),ye=["href"],ke=g(()=>e("br",null,null,-1)),xe=g(()=>e("br",null,null,-1)),we=c(" daily limit per address. "),$e=g(()=>e("br",null,null,-1)),Se=g(()=>e("br",null,null,-1)),Le={key:0,class:"blockNumber small danger"},Ae={key:1,class:"blockNumber small danger"},Ne={key:2,class:"blockNumber small"},Fe=g(()=>e("br",null,null,-1)),Me={setup(o){f.extend(A);const t=_(!0),i=_(0),u=_(0),s=_(""),n=_(null),a=_(null),m=async()=>{let h=null;try{h=await(await window.fetch(V("urlPrefix")+"/api/stats/")).json()}catch{}!h||(i.value=BigInt(h.balance),u.value=BigInt(h.weiPerAddress),s.value=h.address,n.value=h.blockNumber,a.value=h.blockTimestamp)};z(async()=>{await m(),t.value=!1,setInterval(m,21e3)});const x=S(()=>a.value?Math.floor(Date.now()/1e3)-a.value:null),w=S(()=>a.value?f.unix(a.value).format("LLLL"):"unknown"),F=S(()=>x.value>=135);return(h,M)=>t.value?(r(),l("div",pe," Loading stats... ")):(r(),l("div",ge,[e("b",null,d(h.$format18(i.value))+"\xA0rETH",1),be,ve,e("a",{class:"small",href:"https://ropsten.etherscan.io/address/"+s.value},d(s.value),9,ye),ke,xe,e("b",null,d(h.$format18(u.value))+"\xA0rETH",1),we,$e,Se,a.value?N(F)?(r(),l("span",Ae,"Stalled at block "+d(n.value)+" ("+d(N(w))+")",1)):(r(),l("span",Ne,"Currently at block "+d(n.value),1)):(r(),l("span",Le,"No last block information (stalled?)")),Fe]))}};var Ee=p(Me,[["__scopeId","data-v-5161b06e"]]);const Ie={},Te=e("h1",{class:"h3 mb-3 fw-normal"}," Something is not working? ",-1),Ce=e("p",null,[c(" Ropsten testnet suffered from a network split after London hardfork. Please make sure that you are on the correct side of the Ropsten testnet. More details available from Ethereum developeres "),e("a",{href:"https://github.com/ethereum/pm/issues/354"},"here"),c(" and "),e("a",{href:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/retrospectives/london.md"},"here"),c(". ")],-1);function Pe(o,t){return r(),l($,null,[Te,Ce],64)}var Be=p(Ie,[["render",Pe]]);const He={},ze=e("h1",{class:"h3 mb-3 fw-normal"}," Still not working? ",-1),je=e("p",null,[c(" Hit me up on Twitter: "),e("a",{href:"https://twitter.com/egorFiNE"},"@egorFiNE")],-1);function Oe(o,t){return r(),l($,null,[ze,je],64)}var Ve=p(He,[["render",Oe]]);const Ue={components:{AddressForm:_e,Stats:Ee,Faq:Be,ContactMe:Ve},setup(){U("urlPrefix","")},data(){return{urlPrefix:""}}},Re={class:"container"},qe={class:"row"},De={class:"col-6"},Ge=e("h1",{class:"h3 mb-3 fw-normal"},"Ropsten testnet faucet",-1),Je={class:"col-6 text-muted"},Ke=e("h1",{class:"h3 mb-3 fw-light"},"Faucet stats",-1),We={class:"row mt-5"},Ye={class:"col-6"},Qe={class:"col-6"},Xe=L('<p class="mt-5 mb-3 text-muted"> \xA9 2021 Egor Egorov <span class="ms-2 separator">|</span><a class="ms-2" href="https://github.com/egorFiNE/ropstenfaucet">github</a><span class="ms-2 separator">|</span><a class="ms-2" href="https://twitter.com/egorFiNE">twitter</a><span class="ms-2 separator">|</span><a class="ms-2" href="mailto:me@egorfine.com">me@egorfine.com</a></p>',1);function Ze(o,t,i,u,s,n){const a=b("AddressForm"),m=b("Stats"),x=b("Faq"),w=b("ContactMe");return r(),l("main",Re,[e("div",qe,[e("div",De,[Ge,k(a)]),e("div",Je,[Ke,k(m)])]),e("div",We,[e("div",Ye,[k(x)]),e("div",Qe,[k(w)])]),Xe])}var et=p(Ue,[["render",Ze]]);const tt=new Intl.NumberFormat("en-US",{useGrouping:!0,minimumFractionDigits:4});function st(o){const t=BigInt(o)/10n**14n;return tt.format(Number(t.toString())/10**4)}var nt={install:o=>{o.config.globalProperties.$format18=(t,i="")=>(t??null)===null?i:st(t)}};R(et).use(nt).mount("#app");
//# sourceMappingURL=index.0052c4c4.js.map
