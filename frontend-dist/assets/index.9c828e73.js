import{o as i,c as l,a as t,b as T,r as L,n as H,F as N,d as v,e as h,f as P,l as k,g as y,w as I,v as C,h as w,i as _,j as b,t as d,k as n,p as x,m as $,q as A,s as F}from"./vendor.d2c5a234.js";const B=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}};B();var g=(e,a)=>{const r=e.__vccOpts||e;for(const[u,s]of a)r[u]=s;return r};const E={props:["kind"],computed:{kindClass(){return"alert-"+this.kind}}},M=v('<svg xmlns="http://www.w3.org/2000/svg" style="display:none;"><symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path></symbol><symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"></path></symbol><symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path></symbol></svg>',1),z={class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img"},V={key:0,"xlink:href":"#check-circle-fill"},O={key:1,"xlink:href":"#exclamation-triangle-fill"};function j(e,a,r,u,s,o){return i(),l(N,null,[M,t("div",{class:H(["alert d-flex align-items-center mt-4",o.kindClass]),role:"alert"},[(i(),l("svg",z,[r.kind=="success"?(i(),l("use",V)):r.kind=="warning"||r.kind=="danger"?(i(),l("use",O)):T("",!0)])),t("div",null,[L(e.$slots,"default")])],2)],64)}var R=g(E,[["render",j]]);h.extend(P);h.extend(k);const U={components:{Alert:R},data(){return{state:"idle",message:null,address:"",addressSent:"",amountSent:0n,tx:null,liftAtUnixtime:0}},computed:{isLoading(){return this.state=="loading"},isValid(){return this.address.startsWith("0x")&&this.address.length==42&&this.address.substr(2).match(/^[0-9A-Fa-f]+$/)},liftInHr(){return h().to(h.unix(this.liftAtUnixtime))},liftAtHr(){return h.unix(this.liftAtUnixtime).format("LLL")},txHr(){const e=(this.tx||"").trim();return e.substr(0,6)+".."+e.substr(e.length-6)}},mounted(){this.$refs.input.focus()},methods:{reset(){this.state="idle",this.tx=null,this.message=""},async giveMe(){grecaptcha.ready(async()=>{const e=await grecaptcha.execute("6LdUTFcdAAAAAH6Xu8p8x8eBdmAOzjinOn5Fomk_",{action:"submit"});this.proceedWithRequest(e)})},async proceedWithRequest(e){this.state="loading",this.tx=null,this.message="";const a={method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({address:this.address,token:e})};let r=null;try{r=await(await window.fetch(this.$root.urlPrefix+"/api/gimme/",a)).json()}catch{}if(!r){this.state="fail",this.message="Failure :-(";return}if(!r.success){r.isLimited?(this.state="limited",this.liftAtUnixtime=r.liftAtUnixtime):r.isEmpty?this.state="empty":r.isBot?this.state="bot":(this.state="fail",this.message=r.message||"Oops");return}this.state="success",this.tx=r.tx,this.addressSent=r.address,this.amountSent=BigInt(r.amount),this.address=""}}},q={style:{"{ opacity":"isLoading ? 0.5 : 1 }"},class:"form-faucet"},D=["disabled"],W={class:"form-floating"},G=["disabled"],Y=t("label",{for:"address"},"Your Ropsten address",-1),J=["disabled"],K=n(" Sent "),X=["href"],Q=n(". "),Z=n(" Address limited. Please retry in "),ee=n(" at "),te=n(" Faucet is empty. Please notify me on "),se=t("a",{href:"https://twitter.com/egorfine"},"Twitter",-1),oe=n(" so that I mine some more rETH. "),ae=n(" Unfortunately, Google Recaptcha failed. "),re={key:5,class:"text-muted mt-1 small"};function ie(e,a,r,u,s,o){const c=y("alert");return i(),l("div",q,[t("form",{onSubmit:a[2]||(a[2]=w((...m)=>o.giveMe&&o.giveMe(...m),["prevent"])),disabled:o.isLoading},[t("div",W,[I(t("input",{ref:"input",type:"text","onUpdate:modelValue":a[0]||(a[0]=m=>s.address=m),onInput:a[1]||(a[1]=(...m)=>o.reset&&o.reset(...m)),disabled:o.isLoading,class:"form-control mb-2",id:"address",autocomplete:"off",placeholder:"0x....."},null,40,G),[[C,s.address]]),Y]),t("button",{class:"w-100 btn btn-lg btn-primary",type:"submit",disabled:o.isLoading||!o.isValid},"Give me Ropsten ETH!",8,J)],40,D),s.state=="success"?(i(),_(c,{key:0,kind:"success"},{default:b(()=>[t("small",null,[K,t("b",null,d(e.$format18(s.amountSent)),1),n(" to "+d(s.addressSent)+" with tx hash ",1),t("a",{href:"https://ropsten.etherscan.io/tx/"+s.tx},d(o.txHr),9,X),Q])]),_:1})):s.state=="limited"?(i(),_(c,{key:1,kind:"warning"},{default:b(()=>[Z,t("b",null,d(o.liftInHr),1),ee,t("b",null,d(o.liftAtHr)+".",1)]),_:1})):s.state=="empty"?(i(),_(c,{key:2,kind:"danger"},{default:b(()=>[te,se,oe]),_:1})):s.state=="bot"?(i(),_(c,{key:3,kind:"warning"},{default:b(()=>[ae]),_:1})):s.state=="fail"?(i(),_(c,{key:4,kind:"danger"},{default:b(()=>[n(d(s.message),1)]),_:1})):(i(),l("div",re," Please enter valid Ethereum address to get free Ropsten testnet ETH. "))])}var ne=g(U,[["render",ie]]);h.extend(k);const le={computed:{blockAgeSeconds(){return this.$root.blockTimestamp?Math.floor(Date.now()/1e3)-this.$root.blockTimestamp:null},blockTimestampHr(){return this.$root.blockTimestamp?h.unix(this.$root.blockTimestamp).format("LLLL"):"unknown"},isBlockTooOld(){this.$root.blockAgeSeconds>=135},addressHr(){return this.$root.address?this.$root.address.substr(0,6)+" ... "+this.$root.address.substr(-4):""}}},p=e=>(x("data-v-7b41167e"),e=e(),$(),e),de={key:0},ce={key:1},ue=n(" available now at faucet"),me=p(()=>t("br",null,null,-1)),he=["href"],fe=p(()=>t("br",null,null,-1)),pe=p(()=>t("br",null,null,-1)),_e=n(" daily limit per address. "),be=p(()=>t("br",null,null,-1)),ge=p(()=>t("br",null,null,-1)),ye={key:0,class:"blockNumber small danger"},ve={key:1,class:"blockNumber small danger"},ke={key:2,class:"blockNumber small"},we=p(()=>t("br",null,null,-1));function xe(e,a,r,u,s,o){return e.$root.isStatsLoading?(i(),l("div",de," Loading stats... ")):(i(),l("div",ce,[t("b",null,d(e.$format18(e.$root.balance))+"\xA0rETH",1),ue,me,t("a",{class:"small",href:"https://ropsten.etherscan.io/address/"+e.$root.address},d(o.addressHr),9,he),fe,pe,t("b",null,d(e.$format18(e.$root.weiPerAddress))+"\xA0rETH",1),_e,be,ge,e.$root.blockTimestamp?o.isBlockTooOld?(i(),l("span",ve,"Stalled at block "+d(e.$root.blockNumber)+" ("+d(o.blockTimestampHr)+")",1)):(i(),l("span",ke,"Currently at block "+d(e.$root.blockNumber),1)):(i(),l("span",ye,"No last block information (stalled?)")),we]))}var $e=g(le,[["render",xe],["__scopeId","data-v-7b41167e"]]);const Ae={components:{AddressForm:ne,Stats:$e},setup(){window.urlPrefix=""},data(){return{urlPrefix:"",isStatsLoading:!0,balance:0,weiPerAddress:0,address:"",blockNumber:null,blockTimestamp:null,isCopied:!1}},computed:{addressHr(){return this.address?this.address.substr(0,6)+" ... "+this.address.substr(-4):""}},mounted(){this.loadStats(),setInterval(this.loadStats.bind(this),3e4)},methods:{async loadStats(){let e=null;try{e=await(await window.fetch(window.urlPrefix+"/api/stats/")).json()}catch{}!e||(this.balance=BigInt(e.balance),this.weiPerAddress=BigInt(e.weiPerAddress),this.address=e.address,this.blockNumber=e.blockNumber,this.blockTimestamp=e.blockTimestamp,this.isStatsLoading=!1)},copyAddress(){navigator.clipboard.writeText(this.address),this.isCopied=!0,setTimeout(()=>this.isCopied=!1,1e3)}}},f=e=>(x("data-v-33d80a21"),e=e(),$(),e),Se={class:"container mt-5"},Te={class:"row"},Le={class:"col-md-6 my-4 col-sm-12"},He=f(()=>t("h1",{class:"h3 mb-4 fw-normal"},"Ropsten testnet faucet",-1)),Ne={class:"col-md-6 my-4 col-sm-12 text-muted"},Pe=f(()=>t("h1",{class:"h3 mb-4 fw-light"},"Faucet stats",-1)),Ie={class:"col-md-12 my-4 col-sm-12"},Ce=f(()=>t("h1",{class:"h3 mb-4 fw-normal"},"Please donate",-1)),Fe=f(()=>t("p",null,[n(" This faucet is now depleting faster than I can mine. Please send your "),t("b",null,"unused Ropsten ETH"),n(" back to the faucet to share with fellow developers. ")],-1)),Be=f(()=>t("p",null,[n(" Please also "),t("b",null,"consider donating."),n(" Your funds will help me continue running miner hardware for Ropsten and other PoW testnets. I accept donations on the same address on pretty much all major EVM network. Much appreciated! ")],-1)),Ee=f(()=>t("p",{class:"fw-bold"}," Please send rETH and/or donations to: ",-1)),Me={class:""},ze={style:{color:"gray"},class:"me-2"},Ve={key:0,class:"copy-address"},Oe=f(()=>t("svg",{width:"13","aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"copy",class:"svg-inline--fa fa-copy fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[t("path",{fill:"currentColor",d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"})],-1)),je=[Oe],Re=v('<p class="mt-5 mb-1 text-muted" data-v-33d80a21> \xA9 2021-2022 Egor Egorov </p><p class="mb-3 text-muted small" data-v-33d80a21><a href="https://github.com/egorFiNE/ropstenfaucet" data-v-33d80a21>github</a><span class="ms-2 separator" data-v-33d80a21>|</span><a class="ms-2" href="https://twitter.com/egorFiNE" data-v-33d80a21>twitter</a><span class="ms-2 separator" data-v-33d80a21>|</span><a class="ms-2" href="mailto:me@egorfine.com" data-v-33d80a21>me@egorfine.com</a></p>',2);function Ue(e,a,r,u,s,o){const c=y("AddressForm"),m=y("Stats");return i(),l("main",Se,[t("div",Te,[t("div",Le,[He,A(c)]),t("div",Ne,[Pe,A(m)]),t("div",Ie,[Ce,t("div",null,[Fe,Be,Ee,t("p",Me,[t("code",ze,d(s.address),1),s.isCopied?(i(),l("span",Ve,"\u2713")):(i(),l("span",{key:1,onClick:a[0]||(a[0]=w((...S)=>o.copyAddress&&o.copyAddress(...S),["prevent"])),class:"copy-address"},je))])])])]),Re])}var qe=g(Ae,[["render",Ue],["__scopeId","data-v-33d80a21"]]);const De=new Intl.NumberFormat("en-US",{useGrouping:!0,minimumFractionDigits:4});function We(e){const a=BigInt(e)/10n**14n;return De.format(Number(a.toString())/10**4)}var Ge={install:e=>{e.config.globalProperties.$format18=(a,r="")=>(a??null)===null?r:We(a)}};F(qe).use(Ge).mount("#app");
//# sourceMappingURL=index.9c828e73.js.map
