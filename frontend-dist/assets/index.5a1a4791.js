import{o as n,c as a,a as s,b as S,r as L,n as T,F as N,d as x,e as h,f as P,l as v,g as y,w as C,v as F,h as w,i as p,j as _,t as l,k as u,m as b,u as k,p as H,q as I,s as E,x as $,y as B}from"./vendor.3400a45b.js";const M=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}};M();var g=(o,r)=>{const i=o.__vccOpts||o;for(const[c,e]of r)i[c]=e;return i};const z={props:["kind"],computed:{kindClass(){return"alert-"+this.kind}}},O=x('<svg xmlns="http://www.w3.org/2000/svg" style="display:none;"><symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"></path></symbol><symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"></path></symbol><symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path></symbol></svg>',1),j={class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img"},U={key:0,"xlink:href":"#check-circle-fill"},R={key:1,"xlink:href":"#exclamation-triangle-fill"};function V(o,r,i,c,e,t){return n(),a(N,null,[O,s("div",{class:T(["alert d-flex align-items-center mt-4",t.kindClass]),role:"alert"},[(n(),a("svg",j,[i.kind=="success"?(n(),a("use",U)):i.kind=="warning"||i.kind=="danger"?(n(),a("use",R)):S("",!0)])),s("div",null,[L(o.$slots,"default")])],2)],64)}var q=g(z,[["render",V]]);h.extend(P);h.extend(v);const D={components:{Alert:q},data(){return{state:"idle",message:null,address:"",addressSent:"",amountSent:0n,tx:null,liftAtUnixtime:0}},computed:{isLoading(){return this.state=="loading"},isValid(){return this.address.startsWith("0x")&&this.address.length==42&&this.address.substr(2).match(/^[0-9A-Fa-f]+$/)},liftInHr(){return h().to(h.unix(this.liftAtUnixtime))},liftAtHr(){return h.unix(this.liftAtUnixtime).format("LLL")},txHr(){const o=(this.tx||"").trim();return o.substr(0,6)+".."+o.substr(o.length-6)}},mounted(){this.$refs.input.focus()},methods:{reset(){this.state="idle",this.tx=null,this.message=""},async giveMe(){grecaptcha.ready(async()=>{const o=await grecaptcha.execute("6LdUTFcdAAAAAH6Xu8p8x8eBdmAOzjinOn5Fomk_",{action:"submit"});this.proceedWithRequest(o)})},async proceedWithRequest(o){this.state="loading",this.tx=null,this.message="";const r={method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({address:this.address,token:o})};let i=null;try{i=await(await window.fetch(this.$root.urlPrefix+"/api/gimme/",r)).json()}catch{}if(!i){this.state="fail",this.message="Failure :-(";return}if(!i.success){i.isLimited?(this.state="limited",this.liftAtUnixtime=i.liftAtUnixtime):i.isEmpty?this.state="empty":i.isBot?this.state="bot":(this.state="fail",this.message=i.message||"Oops");return}this.state="success",this.tx=i.tx,this.addressSent=i.address,this.amountSent=BigInt(i.amount),this.address=""}}},G={style:{"{ opacity":"isLoading ? 0.5 : 1 }"},class:"form-faucet"},W=["disabled"],J={class:"form-floating"},K=["disabled"],X=s("label",{for:"address"},"Your Ropsten address",-1),Y=["disabled"],Q=u(" Sent "),Z=["href"],tt=u(". "),et=u(" Address limited. Please retry in "),st=u(" at "),ot=u(" Faucet is empty. Please notify me on "),rt=s("a",{href:"https://twitter.com/egorfine"},"Twitter",-1),it=u(" so that I mine some more rETH. "),nt=u(" Unfortunately, Google Recaptcha failed. "),at={key:5,class:"text-muted mt-1 small"};function lt(o,r,i,c,e,t){const d=y("alert");return n(),a("div",G,[s("form",{onSubmit:r[2]||(r[2]=w((...m)=>t.giveMe&&t.giveMe(...m),["prevent"])),disabled:t.isLoading},[s("div",J,[C(s("input",{ref:"input",type:"text","onUpdate:modelValue":r[0]||(r[0]=m=>e.address=m),onInput:r[1]||(r[1]=(...m)=>t.reset&&t.reset(...m)),disabled:t.isLoading,class:"form-control mb-2",id:"address",autocomplete:"off",placeholder:"0x....."},null,40,K),[[F,e.address]]),X]),s("button",{class:"w-100 btn btn-lg btn-primary",type:"submit",disabled:t.isLoading||!t.isValid},"Give me Ropsten eth!",8,Y)],40,W),e.state=="success"?(n(),p(d,{key:0,kind:"success"},{default:_(()=>[s("small",null,[Q,s("b",null,l(o.$format18(e.amountSent)),1),u(" to "+l(e.addressSent)+" with tx hash ",1),s("a",{href:"https://ropsten.etherscan.io/tx/"+e.tx},l(t.txHr),9,Z),tt])]),_:1})):e.state=="limited"?(n(),p(d,{key:1,kind:"warning"},{default:_(()=>[et,s("b",null,l(t.liftInHr),1),st,s("b",null,l(t.liftAtHr)+".",1)]),_:1})):e.state=="empty"?(n(),p(d,{key:2,kind:"danger"},{default:_(()=>[ot,rt,it]),_:1})):e.state=="bot"?(n(),p(d,{key:3,kind:"warning"},{default:_(()=>[nt]),_:1})):e.state=="fail"?(n(),p(d,{key:4,kind:"danger"},{default:_(()=>[u(l(e.message),1)]),_:1})):(n(),a("div",at," Please enter valid Ethereum address to get free Ropsten testnet ETH. "))])}var dt=g(D,[["render",lt]]);const f=o=>(H("data-v-01e625a2"),o=o(),I(),o),ct={key:0},ut={key:1},mt=u(" available now at faucet"),ht=f(()=>s("br",null,null,-1)),ft=["href"],pt=f(()=>s("br",null,null,-1)),_t=f(()=>s("br",null,null,-1)),bt=u(" daily limit per address. "),gt=f(()=>s("br",null,null,-1)),yt=f(()=>s("br",null,null,-1)),kt={key:0,class:"blockNumber small danger"},xt={key:1,class:"blockNumber small danger"},vt={key:2,class:"blockNumber small"},wt=f(()=>s("br",null,null,-1)),$t={setup(o){h.extend(v);const r=E();b(()=>r.ctx.$root.blockTimestamp?Math.floor(Date.now()/1e3)-r.ctx.$root.blockTimestamp:null);const i=b(()=>r.ctx.$root.blockTimestamp?h.unix(r.ctx.$root.blockTimestamp).format("LLLL"):"unknown"),c=b(()=>r.ctx.$root.blockAgeSeconds>=135),e=b(()=>r.ctx.$root.address?r.ctx.$root.address.substr(0,6)+" ... "+r.ctx.$root.address.substr(-4):"");return(t,d)=>t.$root.isStatsLoading?(n(),a("div",ct," Loading stats... ")):(n(),a("div",ut,[s("b",null,l(t.$format18(t.$root.balance))+"\xA0rETH",1),mt,ht,s("a",{class:"small",href:"https://ropsten.etherscan.io/address/"+t.$root.address},l(k(e)),9,ft),pt,_t,s("b",null,l(t.$format18(t.$root.weiPerAddress))+"\xA0rETH",1),bt,gt,yt,t.$root.blockTimestamp?k(c)?(n(),a("span",xt,"Stalled at block "+l(t.$root.blockNumber)+" ("+l(k(i))+")",1)):(n(),a("span",vt,"Currently at block "+l(t.$root.blockNumber),1)):(n(),a("span",kt,"No last block information (stalled?)")),wt]))}};var At=g($t,[["__scopeId","data-v-01e625a2"]]);const St={components:{AddressForm:dt,Stats:At},setup(){window.urlPrefix=""},data(){return{urlPrefix:"",isStatsLoading:!0,balance:0,weiPerAddress:0,address:"",blockNumber:null,blockTimestamp:null,isCopied:!1}},computed:{addressHr(){return this.address?this.address.substr(0,6)+" ... "+this.address.substr(-4):""}},mounted(){this.loadStats(),setInterval(this.loadStats.bind(this),3e4)},methods:{async loadStats(){let o=null;try{o=await(await window.fetch(window.urlPrefix+"/api/stats/")).json()}catch{}!o||(this.balance=BigInt(o.balance),this.weiPerAddress=BigInt(o.weiPerAddress),this.address=o.address,this.blockNumber=o.blockNumber,this.blockTimestamp=o.blockTimestamp,this.isStatsLoading=!1)},copyAddress(){navigator.clipboard.writeText(this.address),this.isCopied=!0,setTimeout(()=>this.isCopied=!1,1e3)}}},Lt={class:"container mt-5"},Tt={class:"row"},Nt={class:"col-md-6 my-4 col-sm-12"},Pt=s("h1",{class:"h3 mb-4 fw-normal"},"Ropsten testnet faucet",-1),Ct={class:"col-md-6 my-4 col-sm-12 text-muted"},Ft=s("h1",{class:"h3 mb-4 fw-light"},"Faucet stats",-1),Ht={class:"col-md-12 my-4 col-sm-12"},It={class:"alert alert-success",role:"alert"},Et=s("h1",{class:"h3 mb-4 fw-normal"},"Please donate Ropsten ETH!",-1),Bt=s("p",null," This faucet is now depleting faster than I can mine. Please send your unused ropsten ETH back to the faucet to share with fellow developers. ",-1),Mt=s("p",{class:"fw-bold"}," Please send rETH to: ",-1),zt={style:{color:"gray"},class:"me-2"},Ot={key:0,class:"text-muted text-decoration-underline"},jt=x('<p class="mt-5 mb-1 text-muted"> \xA9 2021 Egor Egorov </p><p class="mb-3 text-muted"><a href="https://github.com/egorFiNE/ropstenfaucet">github</a><span class="ms-2 separator">|</span><a class="ms-2" href="https://twitter.com/egorFiNE">twitter</a><span class="ms-2 separator">|</span><a class="ms-2" href="mailto:me@egorfine.com">me@egorfine.com</a></p>',2);function Ut(o,r,i,c,e,t){const d=y("AddressForm"),m=y("Stats");return n(),a("main",Lt,[s("div",Tt,[s("div",Nt,[Pt,$(d)]),s("div",Ct,[Ft,$(m)]),s("div",Ht,[s("div",It,[Et,s("div",null,[Bt,Mt,s("p",null,[s("code",zt,l(e.address),1),e.isCopied?(n(),a("span",Ot,"copied")):(n(),a("a",{key:1,href:"#",onClick:r[0]||(r[0]=w((...A)=>t.copyAddress&&t.copyAddress(...A),["prevent"]))},"click to copy"))])])])])]),jt])}var Rt=g(St,[["render",Ut]]);const Vt=new Intl.NumberFormat("en-US",{useGrouping:!0,minimumFractionDigits:4});function qt(o){const r=BigInt(o)/10n**14n;return Vt.format(Number(r.toString())/10**4)}var Dt={install:o=>{o.config.globalProperties.$format18=(r,i="")=>(r??null)===null?i:qt(r)}};B(Rt).use(Dt).mount("#app");
//# sourceMappingURL=index.5a1a4791.js.map
